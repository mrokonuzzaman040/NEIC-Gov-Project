# -----------------------------------------------------------------------------
# Core application settings
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_HTTP_PORT=3000
NEXTAUTH_URL=https://your-domain.gov
NEXTAUTH_SECRET=change-me
HASH_SALT=replace-with-strong-random-string
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Database configuration
# -----------------------------------------------------------------------------
POSTGRES_DB=election
POSTGRES_USER=election_user
POSTGRES_PASSWORD=super-secure-password
DATABASE_URL=postgresql://election_user:super-secure-password@db:5432/election?schema=public
DB_MIGRATION_MAX_RETRIES=12
DB_MIGRATION_RETRY_DELAY=5
SEED_DATABASE=false

# -----------------------------------------------------------------------------
# Optional seeded accounts (used by scripts/master-seed.js)
# -----------------------------------------------------------------------------
ADMIN_EMAIL=admin@election-commission.gov
ADMIN_PASSWORD=ChangeMeNow123!
ADMIN_NAME=System Administrator
MANAGER_EMAIL=manager@election-commission.gov
MANAGER_PASSWORD=Manager2024!
MANAGER_NAME=Election Manager
SUPPORT_EMAIL=support@election-commission.gov
SUPPORT_PASSWORD=Support2024!
SUPPORT_NAME=Support Specialist

# -----------------------------------------------------------------------------
# Security and rate limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_MAX=20
RATE_LIMIT_WINDOW_SECONDS=60
NEXT_PUBLIC_MAX_UPLOAD_FILE_SIZE_MB=25
NEXT_PUBLIC_RECAPTCHA_KEY=
RECAPTCHA_SECRET_KEY=
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=

# -----------------------------------------------------------------------------
# Email delivery (SendGrid or SMTP)
# -----------------------------------------------------------------------------
SENDGRID_API_KEY=
FROM_EMAIL=no-reply@election-commission.gov
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=

# -----------------------------------------------------------------------------
# Redis configuration (direct connection)
# Provide either REDIS_URL or host/port credentials
# -----------------------------------------------------------------------------
REDIS_URL=redis://:super-secure-redis-password@redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=super-secure-redis-password
REDIS_TLS=false

# -----------------------------------------------------------------------------
# File storage locations (mounted as volumes)
# -----------------------------------------------------------------------------
UPLOAD_DIR=/app/uploads/submissions
UPLOADS_BACKUP_INTERVAL_SECONDS=86400
UPLOADS_BACKUP_RETENTION_DAYS=14

# -----------------------------------------------------------------------------
# Postgres backup policy (prodrigestivill/postgres-backup-local)
# -----------------------------------------------------------------------------
POSTGRES_EXTRA_OPTS=--schema=public --blobs
POSTGRES_BACKUP_SCHEDULE=@daily
POSTGRES_BACKUP_ON_START=TRUE
POSTGRES_BACKUP_KEEP_DAYS=7
POSTGRES_BACKUP_KEEP_WEEKS=4
POSTGRES_BACKUP_KEEP_MONTHS=6

# -----------------------------------------------------------------------------
# Timezone for scheduled jobs
# -----------------------------------------------------------------------------
TZ=Asia/Dhaka
